/api/v1/posts:
  post:
    summary: Create a community post
    description: Creates a new community/channel post for the authenticated user.
    tags: [Posts]
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - content
            properties:
              content: { type: string, description: The text content of the post }
    responses:
      201:
        description: Post created successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                statusCode: { type: number, example: 201 }
                data:
                  type: object
                  properties:
                    _id: { type: string }
                    content: { type: string }
                    owner: { type: string }
                    createdAt: { type: string, format: date-time }
                message: { type: string, example: "Post created successfully" }
      400:
        description: Bad Request - Post content is required
      401:
        description: Unauthorized - User not authenticated
      500:
        description: Internal Server Error - Failed to create post

/api/v1/posts/user/{userId}:
  get:
    summary: Get posts by a user
    description: Fetches all community posts created by a specific user, sorted by newest first, including owner details.
    tags: [Posts]
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: userId
        required: true
        schema: { type: string }
        description: The ID of the user whose posts to fetch
    responses:
      200:
        description: User posts fetched successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                statusCode: { type: number, example: 200 }
                data:
                  type: array
                  items:
                    type: object
                    properties:
                      _id: { type: string }
                      content: { type: string }
                      createdAt: { type: string, format: date-time }
                      owner:
                        type: object
                        properties:
                          userName: { type: string }
                          fullname: { type: string }
                          avatar: { type: string }
                message: { type: string, example: "User posts fetched successfully" }
      400:
        description: Bad Request - Invalid user ID
      401:
        description: Unauthorized - User not authenticated

/api/v1/posts/{postId}:
  patch:
    summary: Update a post
    description: Updates the content of an existing community post. Only the post owner can update it.
    tags: [Posts]
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: postId
        required: true
        schema: { type: string }
        description: The ID of the post to update
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - content
            properties:
              content: { type: string, description: Updated post content }
    responses:
      200:
        description: Post updated successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                statusCode: { type: number, example: 200 }
                data:
                  type: object
                  properties:
                    _id: { type: string }
                    content: { type: string }
                    owner: { type: string }
                    updatedAt: { type: string, format: date-time }
                message: { type: string, example: "Post updated successfully" }
      400:
        description: Bad Request - Invalid post ID or missing content
      401:
        description: Unauthorized - User not authenticated
      403:
        description: Forbidden - Not authorized to update this post
      404:
        description: Not Found - Post not found

  delete:
    summary: Delete a post
    description: Permanently deletes a community post by its ID. Only the post owner can delete it.
    tags: [Posts]
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: postId
        required: true
        schema: { type: string }
        description: The ID of the post to delete
    responses:
      200:
        description: Post deleted successfully
      400:
        description: Bad Request - Invalid post ID
      401:
        description: Unauthorized - User not authenticated
      403:
        description: Forbidden - Not authorized to delete this post
      404:
        description: Not Found - Post not found
